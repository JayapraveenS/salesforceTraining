<template>
    <!-- for selecting required object -->
    <lightning-card if:false={isObjSelected}>
        <lightning-combobox name="requiredObject" label="Choose Object:" value={value} placeholder="Select object type:"
            options={objOptions} onchange={handleChange}>
        </lightning-combobox>
    </lightning-card>

    <!-- for getting field values -->
    <lightning-card if:false={isFieldSelected}>
        <lightning-checkbox-group name="Checkbox Group" label="Choose required fields:" options={fieldOptions}
            value={fieldValue} onchange={handleFieldChange}></lightning-checkbox-group>
        <lightning-button label="Confirm" onclick={handleConfirm}></lightning-button>
    </lightning-card>

    <!-- show records in table format -->
    <div if:true={isDataLoaded} style="height: 15px !important; overflow-y:auto !important;background:green">
        <lightning-card title="your Records:">
            <table class="slds-table slds-table_bordered slds-table_col-bordered">
                <thead>
                    <tr>
                        <template for:each={fieldValue} for:item="apiName">
                            <th key={apiName}>
                                {apiName}
                            </th>
                        </template>
                    </tr>
                </thead>
                <tbody>
                    <template for:each={data} for:item='record' for:index="index">
                        <tr key={record.Id}>
                            <template for:each={fieldValue} for:item="apiName" for:index="index">
                                <td key={apiName}>
                                    <c-table-column-component record={record} api-name={apiName}>
                                    </c-table-column-component>
                                </td>
                            </template>
                        </tr>
                    </template>
                </tbody>
            </table>
            <lightning-button label="Load more.." class="slds-grid slds-grid_align-end" onclick={LoadMore}>
            </lightning-button>
        </lightning-card>
    </div>
</template>